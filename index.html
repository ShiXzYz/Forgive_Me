<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forgive Me?</title>
<link rel="stylesheet" href="style.css">
</head>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<body>
  <!-- Mode Switch Buttons -->
  <button id="mode-btn" onclick="toggleMode()">ðŸŽ“ Internship Mode</button>

  <!-- Screen 1 -->
  <div id="screen1" class="screen active">
    <div class="cat_background" id="main-container">
      <div class="cat-box" id="main-image"></div>
      <p class="cat_text" id="main-text">Will you forgive me?</p>
      <div class="button-container">
        <button id="yes-btn" onclick="switchScreen('screen2')">Yes</button>
        <button id="runaway-btn" onclick="movebutton()">No</button>
      </div>
    </div>
  </div>

  <!-- Screen 2 -->
  <div id="screen2" class="screen">
    <div class="cat_background" id="happy-container">
      <div class="cat-happy" id="happy-image"></div>
      <p class="cat_happy_text" id="happy-text">I knew you would forgive me! ðŸ’—</p>
    </div>
  </div>

<script>
let isInternshipMode = false;

function movebutton() {
  const button = document.getElementById('runaway-btn');
  button.style.position = 'absolute';
  
  const zoneWidth = 500;
  const zoneHeight = 500;
  const centerX = window.innerWidth / 2;
  const centerY = window.innerHeight / 2;

  const randomX = centerX - zoneWidth / 2 + Math.random() * zoneWidth;
  const randomY = centerY - zoneHeight / 2 + Math.random() * zoneHeight;

  button.style.left = `${randomX}px`;
  button.style.top = `${randomY}px`;
}

function switchScreen(screenId) {
  document.querySelectorAll('.screen').forEach(screen => {
    screen.classList.remove('active');
  });
  document.getElementById(screenId).classList.add('active');

  // This should trigger a confetti when yes (goes to screen2)
  if (screenId === 'screen2') {
    fireConfetti();
  }
}


document.addEventListener('mousemove', (e) => {
  const btn = document.getElementById('runaway-btn');
  const rect = btn.getBoundingClientRect();
  const btnX = rect.left + rect.width / 2;
  const btnY = rect.top + rect.height / 2;
  const distance = Math.hypot(e.clientX - btnX, e.clientY - btnY);

  if (distance < 100) { // fast runaway behavior
    let newX = rect.left + (rect.left - e.clientX) * 0.5;
    let newY = rect.top + (rect.top - e.clientY) * 0.5;
    btn.style.left = newX + 'px';
    btn.style.top = newY + 'px';
  }
});

function fireConfetti() {
  const duration = 1 * 1000; // 2 seconds
  const end = Date.now() + duration;

  (function frame() {
    // Random confetti bursts from both sides
    confetti({
      particleCount: 5,
      angle: 60,
      spread: 55,
      origin: { x: 0 },
      colors: ['#bb0000', '#ffffff', '#ff69b4', '#4f8cff']
    });
    confetti({
      particleCount: 5,
      angle: 120,
      spread: 55,
      origin: { x: 1 },
      colors: ['#bb0000', '#ffffff', '#ff69b4', '#4f8cff']
    });

    if (Date.now() < end) {
      requestAnimationFrame(frame);
    }
  })();
}

function toggleMode() {
  isInternshipMode = !isInternshipMode;

  const body = document.body;
  const text = document.getElementById('main-text');
  const image = document.getElementById('main-image');
  const happyImage = document.getElementById('happy-image');
  const happyText = document.getElementById('happy-text');
  const modeBtn = document.getElementById('mode-btn');
  const mainContainer = document.getElementById('main-container');
  const happyContainer = document.getElementById('happy-container');
  const yesBtn = document.getElementById('yes-btn');
  const noBtn = document.getElementById('runaway-btn');

  if (isInternshipMode) {
    // ðŸŽ“ Internship Mode Theme
    document.body.classList.add("internship-mode");
    body.style.background = "#eaf2ff";
    mainContainer.style.backgroundColor = "#f4f8ff";
    happyContainer.style.backgroundColor = "#f4f8ff";
    mainContainer.style.borderColor = "#0066cc";
    happyContainer.style.borderColor = "#0066cc";
    text.style.color = "#004080";
    text.textContent = "Will you give me an internship?";
    image.style.backgroundImage = "url('https://i.imgflip.com/7in5fj.jpg')";
    happyImage.style.backgroundImage = "url('https://i.pinimg.com/736x/5f/a8/72/5fa872bd8f3cb0870e1e0ec7e8f15dfc.jpg')";
    happyText.textContent = "Yay! Thank you so much! ðŸŽ‰";
    happyText.style.color = "#004080";
    modeBtn.textContent = "ðŸ˜º Cat Mode";

    // Change button colors for internship theme
    yesBtn.style.backgroundColor = "#a7ceff";
    yesBtn.style.color = "#003366";
    yesBtn.style.borderColor = "#003366";
    noBtn.style.backgroundColor = "#a7ceff";
    noBtn.style.color = "#003366";
    noBtn.style.borderColor = "#003366";

  } else {
    // ðŸ˜º Cat Mode Theme
    document.body.classList.remove("internship-mode");
    body.style.background = "#f8aed2";
    mainContainer.style.backgroundColor = "white";
    happyContainer.style.backgroundColor = "white";
    mainContainer.style.borderColor = "#b8457d";
    happyContainer.style.borderColor = "#b8457d";
    text.style.color = "#ff389b";
    text.textContent = "Will you forgive me?";
    image.style.backgroundImage = "url('https://rlv.zcache.com/sad_cat_on_phone_square_sticker-r104af52b999e47929e0f2ab5625fe85e_zg2qgs_644.webp?rlvnet=1')";
    happyImage.style.backgroundImage = "url('https://64.media.tumblr.com/beff886ca514bad3dfae05e1ffed4cbb/febcdadf6f9f83ec-a9/s540x810/c2fb5723d7e94675606e851660948aef3da40042.jpg')";
    happyText.textContent = "I knew you would forgive me! ðŸ’—";
    happyText.style.color = "#ff389b";
    modeBtn.textContent = "ðŸŽ“ Internship Mode";

    // Revert buttons to pink cat theme
    yesBtn.style.backgroundColor = "#f49ac5";
    yesBtn.style.color = "#b8457d";
    yesBtn.style.borderColor = "#b8457d";
    noBtn.style.backgroundColor = "#f49ac5";
    noBtn.style.color = "#b8457d";
    noBtn.style.borderColor = "#b8457d";
  }

  // Reset to main screen
  document.querySelectorAll('.screen').forEach(screen => {
    screen.classList.remove('active');
  });
  document.getElementById('screen1').classList.add('active');

  // Reset runaway button position
  const btn = document.getElementById('runaway-btn');
  btn.style.left = '50%';
  btn.style.top = 'auto';
  btn.style.transform = 'translateX(20px)';
}
</script>
</body>
</html>
